# Configuration for Funqy HTTP
quarkus.http.port=8080
# For development mode, you can also set:
quarkus.http.test-port=8081
# Enable config logging
quarkus.log.category."io.quarkus".level=DEBUG
# Set the base URL path
quarkus.http.root-path=/api

# CORS configuration - Allow all origins for development
# Habilitar CORS
quarkus.http.cors=true
# Permitir específicamente el origen de tu React
quarkus.http.cors.origins=http://localhost:3000
# Métodos permitidos
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
# Cabeceras permitidas (importante si usas Auth o JSON)
quarkus.http.cors.headers=Content-Type,Authorization
# Tiempo que el navegador guarda la configuración de CORS (opcional)
quarkus.http.cors.access-control-max-age=24H

quarkus.datasource.devservices.port=5432
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.username=${SUPABASE_DB_USER}
%prod.quarkus.datasource.password=${SUPABASE_DB_PASSWORD}
%prod.#quarkus.datasource.jdbc.url=jdbc:postgresql://${SUPABASE_DB_HOST}:${SUPABASE_DB_PORT}/${SUPABASE_DB_NAME}?sslmode=require
%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://${SUPABASE_DB_HOST}:${SUPABASE_DB_PORT}/${SUPABASE_DB_NAME}?sslmode=disable
%prod.quarkus.datasource.jdbc.max-size=10

# Enable H2 console for development
#quarkus.h2-console.enable=true

# Liquibase configuration
#quarkus.liquibase.migration-table-name=LIQUIBASECHANGELOG
#quarkus.liquibase.change-log=db/changelog/db.changelog-master.xml
# Hibernate ORM automatic schema generation (dev only)
# Enable development mode for hot reload (optional)
%dev.quarkus.mode=dev

# Test database configuration
#quarkus.datasource.db-kind=h2
#quarkus.datasource.username=sa
#quarkus.datasource.password=
#quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=TRUE

# Liquibase configuration
# 1. Asegúrate de que Liquibase esté activo
quarkus.liquibase.migrate-at-start=true
# 2. Configura la ruta de tu changelog principal (si no es la por defecto)
quarkus.liquibase.change-log=classpath:db/changelog/db.changelog-master.yaml
# 3. (Opcional) Limpia la base de datos en cada reinicio de Dev Services
# Esto es útil si quieres probar tus scripts de migración desde cero siempre
quarkus.liquibase.clean-at-start=false

# Hibernate
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
